<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>keenan's log.</title>
    <description></description>
    <link>/</link>
    <atom:link href="/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Mon, 12 Dec 2016 05:05:18 -0600</pubDate>
    <lastBuildDate>Mon, 12 Dec 2016 05:05:18 -0600</lastBuildDate>
    <generator>Jekyll v3.3.1</generator>
    
      <item>
        <title>Operation HEAR</title>
        <description>&lt;p&gt;Log last updated: 12/03/2016&lt;/p&gt;

&lt;h1 id=&quot;introduction&quot;&gt;Introduction&lt;/h1&gt;
&lt;p&gt;Since I was a kid, I’ve wished for a way to hear while in the water. As of 2016, the only waterproof hearing aid on the market is the &lt;a href=&quot;http://www.siemens.com/press/en/pressrelease/?press=/en/pressrelease/2012/healthcare/h20121036.htm&quot;&gt;Siemens Aquaris&lt;/a&gt;. Someday I would like one but for now, this is my journal of trying to figure out something more cost-effective :).&lt;/p&gt;

&lt;h1 id=&quot;12292014&quot;&gt;12/29/2014&lt;/h1&gt;
&lt;p&gt;Got fitted with &lt;a href=&quot;http://www.resound.com/en-US/hearing-aids/enzo2&quot;&gt;Resound Enzo&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt;. This hearing aid has actually been life-changing. As a &lt;a href=&quot;https://developer.apple.com/programs/mfi/&quot;&gt;Made for iPhone®&lt;/a&gt; product, it streams sound from my phone directly into my hearing aid’s internal microphone via Bluetooth. The external microphone can also be disabled, effectively resulting in 100% noise-cancellation. For the first time, I could Skype without having to ask my friends to constantly repeat themselves because the max volume wasn’t loud enough. I looked forward to FaceTiming my family instead of anxiously wishing I could hang up.&lt;/p&gt;

&lt;h1 id=&quot;8052016&quot;&gt;8/05/2016&lt;/h1&gt;
&lt;p&gt;Went tubing with my friends! I had taken out my hearing aids for tubing in a lake before, but this trip was a 3-hour trip down a lazy river. We would essentially be chilling and talking the entire time. I didn’t want to be left out so I wore my old pair from high school. I figured that if something happened to them, I’d still have the ReSounds. The trip turned out to be a blast; we tied our tubes together and played music while talking.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/river-tubing.jpg&quot; alt=&quot;River tubing&quot; /&gt;
&lt;em&gt;Image from Trinity River Vision Authority.&lt;/em&gt;&lt;/p&gt;

&lt;h1 id=&quot;8182016&quot;&gt;8/18/2016&lt;/h1&gt;
&lt;p&gt;Hatched crazy idea of using iPhone as a microphone and pairing it to waterproof Bluetooth headphones. Then I simply enclose my iPhone in a waterproof case and swim with it. I had already gotten such a case for tubing and discovered that I could still talk on the phone. That is, my phone’s internal microphone could pick up sound even in a watertight case. Of course, this idea depends on the case staying waterproof and not destroying my phone in the process.&lt;/p&gt;

&lt;p&gt;Apps that can turn the iPhone into a microphone are many! Preliminary testing using my hearing aids as Bluetooth headphones revealed that the internal iPhone microphone is surprisingly good and can switch between near and far range. I turned off my hearing aid’s external microphone so that the only sound came from the iPhone’s internal microphone. I could hear my parents yelling my name from downstairs and hold a conversation with them in the car and at the dinner table.&lt;/p&gt;

&lt;p&gt;Sound quality is extremely polluted. There is a lot of ambient / background noise and it is annoyingly loud. My voice also sounds disturbingly different, I can’t describe it. My parents also sound different.&lt;/p&gt;

&lt;p&gt;Overall, results are optimistic and this idea looks possible.&lt;/p&gt;

&lt;h1 id=&quot;8192016&quot;&gt;8/19/2016&lt;/h1&gt;
&lt;p&gt;Research waterproof ratings. Apparently they are on an “IPX” scale from 0 (zero protection) to 8 (fully waterproof).&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Level&lt;/th&gt;
      &lt;th&gt;Protection&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;6&lt;/td&gt;
      &lt;td&gt;Can withstand water jets at 100 liters/min for 3 min&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;7&lt;/td&gt;
      &lt;td&gt;Immersion up to 1 meter for 30 minutes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;8&lt;/td&gt;
      &lt;td&gt;Continuous immersion up to 3 meters&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;Ordered a pair of &lt;a href=&quot;https://www.amazon.com/gp/product/B01G8JO5F2/&quot;&gt;IPX7 Bluetooth earbuds&lt;/a&gt;.&lt;/p&gt;

&lt;h1 id=&quot;8222016&quot;&gt;8/22/2016&lt;/h1&gt;

&lt;p&gt;Bluetooth headphones arrive. Comfortable and tightly snug in ear.&lt;/p&gt;

&lt;p&gt;The range is fine, I can hear a “noise” when my parents are yelling my name from downstairs but the sound quality… beyond salvageable. It sharply degrades with distance, with speech intelligibility at 3 feet, but unintelligible beyond 1 meter. It is difficult to discern changes in pitch and tone. These results are puzzling considering how well this worked when I paired my hearing aid.&lt;/p&gt;

&lt;p&gt;Further investigation shows that the iPhone is automatically using the microphone in my Bluetooth headphones instead of its own internal microphone. This seems to be the default behavior; there is no existing method to choose which microphone my phone uses. I tried several &lt;a href=&quot;http://petralex.pro/en/article/view?id=1&quot;&gt;hearing algorithms&lt;/a&gt;: Petralax, NAL, Berger, and POGO. I generally prefer POGO, but in all cases the algorithms failed epically.&lt;/p&gt;

&lt;p&gt;Exhaustive search for all IPX6, IPX7, and IPX8 wireless headphones without a built-in microphone. There are none.&lt;/p&gt;

&lt;p&gt;Since trials with my hearing aid worked well, I think this should still work if I can force my phone to use its internal microphone. To be sure, I’ll repeat tests using wired earbuds.&lt;/p&gt;

&lt;h1 id=&quot;8232016&quot;&gt;8/23/2016&lt;/h1&gt;

&lt;p&gt;I borrowed my dad’s Apple earbuds.&lt;/p&gt;

&lt;p&gt;Results were even better than expected! As predicted, my iPhone used its internal microphone to pick up audio and routed it through my earbuds. The sound quality was the pleasant surprise. In tests with my hearing aid, I had complained about how annoying the background noise was. Here, there was no background noise simply by virtue of the fact that I couldn’t hear it. My hearing aid is an amplifier that boosts all sound, but normal wired earbuds don’t have such a thing. The only volume control would come from the iPhone, and it turned out that the only sounds I could hear were those considerably above background noise, i.e. loud spoken audio.&lt;/p&gt;

&lt;p&gt;My thoughts were confirmed by this test: I just need to figure out a way to remove the microphone profile from my Bluetooth headphones. That, or find waterproof wired earbuds which might be an easier task. The best wired waterproof earbuds I found (sorted by Amazon rating) are:&lt;/p&gt;

&lt;table id=&quot;EarbudsTable&quot; class=&quot;tablesorter&quot;&gt;
&lt;thead&gt;
	&lt;tr&gt;
		&lt;th&gt;Product&lt;/th&gt;
		&lt;th&gt;IPX&lt;/th&gt;
		&lt;th&gt;Price&lt;/th&gt;
		&lt;th&gt;Rating&lt;/th&gt;
	&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
	&lt;tr&gt;
		&lt;td&gt;&lt;a href=&quot;https://www.amazon.com/Travelon-Waterproof-Headphones-White-Yellow/dp/B00CBT9K0Y/&quot;&gt;Travelon Headphones&lt;/a&gt;&lt;/td&gt;
		&lt;td&gt;8&lt;/td&gt;
		&lt;td&gt;$13.17&lt;/td&gt;
		&lt;td&gt;4.0&lt;/td&gt;
	&lt;/tr&gt;

	&lt;tr&gt;
		&lt;td&gt;&lt;a href=&quot;https://www.amazon.com/Baakyeek-Waterproof-Underwater-Swimming-Headphone/dp/B00IIEHZDK/&quot;&gt;Baakyeek Headphones&lt;/a&gt;&lt;/td&gt;
		&lt;td&gt;8&lt;/td&gt;
		&lt;td&gt;$4.59&lt;/td&gt;
		&lt;td&gt;4.3&lt;/td&gt;
	&lt;/tr&gt;

	&lt;tr&gt;
		&lt;td&gt;&lt;a href=&quot;https://www.amazon.com/Black-Swimbuds-100%25-Waterproof-Headphones/dp/B01BTFHYIU/&quot;&gt;Swimbuds Black&lt;/a&gt;&lt;/td&gt;
		&lt;td&gt;8&lt;/td&gt;
		&lt;td&gt;$40.00&lt;/td&gt;
		&lt;td&gt;4.3&lt;/td&gt;
	&lt;/tr&gt;

	&lt;tr&gt;
		&lt;td&gt;&lt;a href=&quot;https://www.amazon.com/Waterfi-SwimActive-Waterproof-Headphones-Technology/dp/B01GW39XII/&quot;&gt;Waterfi SwimActive&lt;/a&gt;&lt;/td&gt;
		&lt;td&gt;8&lt;/td&gt;
		&lt;td&gt;$39.95&lt;/td&gt;
		&lt;td&gt;3.6&lt;/td&gt;
	&lt;/tr&gt;

	&lt;tr&gt;
		&lt;td&gt;&lt;a href=&quot;https://www.amazon.com/Avantree-Hippocampus-WATERPROOF-Underwater-Headphones/dp/B01GDRC35S/&quot;&gt;Avantree Hippocampus&lt;/a&gt;&lt;/td&gt;
		&lt;td&gt;8&lt;/td&gt;
		&lt;td&gt;$16.99&lt;/td&gt;
		&lt;td&gt;3.5&lt;/td&gt;
	&lt;/tr&gt;

	&lt;tr&gt;
		&lt;td&gt;&lt;a href=&quot;https://www.amazon.com/IEN2-BK-X-Audio-Sportwrap-Waterproof-Headphones/dp/B00AJD0H8I/&quot;&gt;H2O Audio Surge&lt;/a&gt;&lt;/td&gt;
		&lt;td&gt;8&lt;/td&gt;
		&lt;td&gt;$24.99&lt;/td&gt;
		&lt;td&gt;3.2&lt;/td&gt;
	&lt;/tr&gt;

&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;While looking for earbuds, I found a &lt;a href=&quot;https://www.amazon.com/gp/product/B01243EJ7A/&quot;&gt;waterproof case&lt;/a&gt; that has an armband and a place to plug in earbuds. It also floats! It looks like wired earbuds will be the easiest solution, but I’m still hung up on trying to make this work with Bluetooth. For now I have a couple weeks before I go anywhere so I might as well try. That brings up a new question: what is the underwater range of Bluetooth?&lt;/p&gt;

&lt;h3 id=&quot;preliminary-research&quot;&gt;Preliminary Research&lt;/h3&gt;

&lt;p&gt;Bluetooth is a wireless technology standard that operates on ultra high frequency radio waves. In essence, it transmits signals through electromagnetic radiation but things get tricky when moving from air to water. Signal loss can occur through:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;transmission loss from reflection and refraction at the air/water boundary&lt;/li&gt;
  &lt;li&gt;propagation loss due to water’s high permittivity and electrical conductivity&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I think the first case shouldn’t be an issue since my headphones would already be in the water. &lt;a href=&quot;https://open.library.ubc.ca/cIRcle/collections/ubctheses/24/items/1.0220823&quot;&gt;Zeng&lt;/a&gt; does a survey of underwater wireless communication in seawater and finds that scattering is low at long wavelengths like RF (radio frequency), so that leaves the second case. Water’s high permittivity reduces any electric field around it, which is problematic since electromagnetic waves propagate via disturbances in the electric (and magnetic) fields.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/em-propagation.gif&quot; alt=&quot;Visualization of EM propagation&quot; /&gt;
&lt;em&gt;Image from &lt;a href=&quot;http://www.physicsclassroom.com/mmedia/waves/em.cfm&quot;&gt;Physics Classroom&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Radio frequencies like Bluetooth suffer from high attenuation - its intensity decreases sharply upon contact with water molecules. &lt;a href=&quot;http://www.hydro-international.com/content/article/underwater-electromagnetic-propagation&quot;&gt;Rhodes&lt;/a&gt; explains this process,&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Loss is largely due to the effect of conduction on the electric field component. Propagating waves continually cycle energy between the electric and magnetic fields; hence conduction leads to strong attenuation of electromagnetic propagating waves.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Saltwater has a high conductivity while freshwater has a relatively low conductivity. This means that it’ll be more challenging to engineer a hearing solution for snorkeling in the ocean compared to swimming in a lake.&lt;/p&gt;

&lt;p&gt;It turns out that Bluetooth has virtually nil connectivity. &lt;a href=&quot;http://file.scirp.org/pdf/JEMAA20110700001_18390291.pdf&quot;&gt;Jiang and Georgakopoulos&lt;/a&gt; show that the optimum frequency for air-to-water communication is short-wave radiowaves in the 3 to 100 MHz range. In contrast, Bluetooth is almost two orders of magnitude bigger, falling under the spectrum of microwaves at 2.4 to 2.4835 GHz. Anyone who’s had a good middle school science teacher will remember that kitchen microwaves heats food by heating the water molecules, which absorbs the microwaves.&lt;/p&gt;

&lt;p&gt;Wireless frequencies that do work underwater include sonar and NFC. Apple implemented NFC chips in iPhone 6 for Apple Pay, but have banned access by third party apps. Regardless, it’s a moot point since NFC headphones are so few and not at all waterproof. If I hope to use my phone, then Bluetooth it’ll have to be.&lt;/p&gt;

&lt;p&gt;For my purposes, I don’t really &lt;em&gt;need&lt;/em&gt; a big range. If I am swimming with waterproof earbuds, then that’s a max depth of one foot. I am having a REALLY hard time finding out what the underwater Bluetooth range is. You’d think this would be a common question - and it is - but I guess it is so ineffective that few sought to quantify it.&lt;/p&gt;

&lt;h1 id=&quot;8252016&quot;&gt;8/25/2016&lt;/h1&gt;

&lt;p&gt;Today, I spent a lot of time looking at forums for R/C submarines and… I am actually kinda appalled by how much misinformation there was. Some posters would attribute the ineffectiveness of Bluetooth to the resonant frequency of water, &lt;a href=&quot;http://www.schoolphysics.co.uk/age16-19/Wave%2520properties/Wave%20properties/text/Microwave_ovens/index.html&quot;&gt;which is incorrect&lt;/a&gt;. I didn’t know anything just a few days ago, but it is problematic when veteran posters propagate incorrect information to newbies. Luckily, this is the Internet, and there is always somebody rushing to prove people wrong.&lt;/p&gt;

&lt;h1 id=&quot;8262016&quot;&gt;8/26/2016&lt;/h1&gt;

&lt;h3 id=&quot;theoretical-underwater-bluetooth-range&quot;&gt;Theoretical Underwater Bluetooth Range&lt;/h3&gt;

&lt;p&gt;I’m still hung up on this underwater Bluetooth range thing. I could make life easier for myself and just go with the wired earbuds but… no. I have about two weeks left of summer vacation and I PROMISED myself that I wouldn’t do any math, but here we go…&lt;/p&gt;

&lt;p&gt;Radio frequency power is expressed in decibels. Using the formula for &lt;a href=&quot;https://en.wikipedia.org/wiki/Free-space_path_loss&quot;&gt;free-space path loss&lt;/a&gt;, we can calculate the maximum distance (&lt;script type=&quot;math/tex&quot;&gt;d&lt;/script&gt;) of a wireless signal as a function of path loss (&lt;script type=&quot;math/tex&quot;&gt;FSPL&lt;/script&gt;), frequency (&lt;script type=&quot;math/tex&quot;&gt;f&lt;/script&gt;), and the speed of light in a vacuum (&lt;script type=&quot;math/tex&quot;&gt;c&lt;/script&gt;):&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{align} 
\text{FSPL}_{dB} &amp;= 10\log_{10}\left(\left( \frac{4\pi df}{c}\right)^2\right) \\
&amp;= 20\log_{10}(d) + 20\log_{10}(f) + 20\log_{10} \left( \frac{4\pi}{c}\right) \\
&amp;= 20\log_{10}(d) + 20\log_{10}(f) - 147.55
\end{align} %]]&gt;&lt;/script&gt;

&lt;p&gt;(Actually, this isn’t a good formula, but it was my easiest starting point.) If we measure frequency in GHz instead of Hz, the equation becomes,&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{align}
\text{FSPL}_{dB} &amp;= 20\log_{10}(d) + 20\log_{10}(f \cdot 10^9) - 147.55 \\ 
&amp;= 20\log_{10}(d) + 20\log_{10}(f) + 20\log_{10}(10^9) - 147.55 \\
&amp;= 20\log_{10}(d) + 20\log_{10}(f) + 32.45
\end{align} %]]&gt;&lt;/script&gt;

&lt;p&gt;Rearranging the equation above to find distance, we get:&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;d = 10^{\frac{1}{20}\left(FSPL - 20\log(f) - 32.45\right)}&lt;/script&gt;

&lt;p&gt;Bluetooth frequency is a known value, but what about the path loss? &lt;a href=&quot;http://file.scirp.org/pdf/JEMAA20110700001_18390291.pdf&quot;&gt;Jiang and Georgakopoulos&lt;/a&gt; look at wireless signal loss in fresh water, producing the following graph of propagation loss at various depths.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/propagation-loss.png&quot; alt=&quot;Propagation loss of electromagnetic waves&quot; /&gt;&lt;/p&gt;

&lt;p&gt;A depth of 0.5 m is, in American, 1.6 feet. Bluetooth is around 2.45 GHz and I am not looking to go deep, so the solid line at 10&lt;sup&gt;9&lt;/sup&gt; Hz (or 1 GHz) is what I’m interested in. It looks like the propagation loss is about 25 dB.&lt;/p&gt;

&lt;p&gt;Now we can substitute values into the equation above to get the theoretical distance:&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{align}
d &amp;= 10^{\frac{1}{20}\left(25 - 20\log(2.45) - 32.45\right)} \\
&amp;= 0.1731 \text{ m}
\end{align} %]]&gt;&lt;/script&gt;

&lt;p&gt;Thus, our theoretical range in freshwater, without accounting for transmission loss, is 17.31 centimeters. &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/pmc/articles/PMC3355409/&quot;&gt;Lloret et al.&lt;/a&gt; achieved Bluetooth connectivity at average depths of 16-17 cm in a swimming pool filled with freshwater. &lt;a href=&quot;http://bib.irb.hr/datoteka/686678.Miskovic_et_al_final_paper.pdf&quot;&gt;Mišković et al.&lt;/a&gt; found that under calm sea conditions, Bluetooth connection can be established at depths of fewer than 15 cm.&lt;/p&gt;

&lt;h1 id=&quot;8252016-1&quot;&gt;8/25/2016&lt;/h1&gt;

&lt;p&gt;Now that I have a theoretical (and empirical) distance of Bluetooth range in freshwater, it seems pretty pointless to extend the theoretical result to seawater. 15 cm is about 5.91 inches, so my head would be just under the surface of the water before I lose connectivity. This is still good for my purposes, so I’m going to go ahead with trying to modify the ActivBuds such that my phone stops using the Bluetooth microphone. That will fix the sound quality issue.&lt;/p&gt;

&lt;h1 id=&quot;8262016-1&quot;&gt;8/26/2016&lt;/h1&gt;

&lt;h3 id=&quot;hacking-attempts&quot;&gt;Hacking Attempts&lt;/h3&gt;

&lt;p&gt;Today, I tried to hack and reprogram my Bluetooth headphones. &lt;a href=&quot;https://www.amazon.com/gp/product/B01G8JO5F2&quot;&gt;Senso ActivBuds&lt;/a&gt; use Bluetooth v4.0+EDR, which stands for Enhanced Data Rate. Bluetooth devices interact with each other through “profiles,” and the profiles that Apple supports are &lt;a href=&quot;https://support.apple.com/en-us/HT204387&quot;&gt;here&lt;/a&gt;. It looks like my headset might have the &lt;a href=&quot;https://developer.bluetooth.org/TechnologyOverview/Pages/HFP.aspx&quot;&gt;HFP profile&lt;/a&gt;. Now the question is: do the headphones support the &lt;a href=&quot;https://developer.bluetooth.org/TechnologyOverview/Pages/A2DP.aspx&quot;&gt;A2DP profile&lt;/a&gt; as with wired headphones?&lt;/p&gt;

&lt;p&gt;To see which profiles are on my ActivBuds, I downloaded Bluetooth Explorer (in &lt;a href=&quot;https://developer.apple.com/download/more/&quot;&gt;Hardware IO Tools for Xcode&lt;/a&gt;) and paired the ActivBuds to my laptop.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/activbuds-profiles.png&quot; alt=&quot;ActivBuds profiles&quot; /&gt;&lt;/p&gt;

&lt;p&gt;From the picture above, we see that it supports the HFP protocol (as predicted), but also &lt;a href=&quot;https://developer.bluetooth.org/TechnologyOverview/pages/a2dp.aspx&quot;&gt;A2DP Sink&lt;/a&gt;, which is the profile for receiving a digital-audio stream delivered from a source. Later, I realized that music streaming happens over A2DP and you can listen to music with headphones so obviously it must have supported that profile :).&lt;/p&gt;

&lt;p&gt;After some more digging, I suspect that it has a &lt;a href=&quot;http://www.csr.com/products/csr8635&quot;&gt;CSR635&lt;/a&gt; chip. According to its &lt;a href=&quot;http://www.csr.com/sites/default/files/csr8635_qfn_technical_overview.pdf&quot;&gt;technical specs&lt;/a&gt;, it has a transmit power of 8 dBm and receiver sensitivity of -89 dBm. &lt;a href=&quot;http://electronicdesign.com/communications/understanding-wireless-range-calculations&quot;&gt;ElectronicDesign&lt;/a&gt; calculates wireless range using these two numbers but I don’t feel like recalculating anymore. The author does use the FSPL formula that I used, though.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/activbuds-protocols.png&quot; alt=&quot;ActivBuds Bluetooth protocols&quot; /&gt;&lt;/p&gt;

&lt;p&gt;From the picture above, we see the following protocols:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Bluetooth#AVDTP&quot;&gt;AVDTP&lt;/a&gt;&lt;/strong&gt;: used to stream music to stereo headsets over an L2CAP channel&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Bluetooth#RFCOMM&quot;&gt;RFCOMM&lt;/a&gt;&lt;/strong&gt;: generates a serial data stream&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Bluetooth#AVCTP&quot;&gt;AVCTP&lt;/a&gt;&lt;/strong&gt;: used by the remote control profile to transfer AV/C commands, e.g. music control buttons&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This is all I’ve found so far for today. I don’t know anything about engineering so it’s taken a lot of time reading through documentation and figuring out what to look for. I haven’t found a guide that tells you how profiles get put on Bluetooth “modules” (chips) – there might not even be one. I’m feeling pretty discouraged about being able to hack my ActivBuds.&lt;/p&gt;

&lt;h3 id=&quot;turn-of-events&quot;&gt;Turn of Events&lt;/h3&gt;

&lt;p&gt;On the bright side, waterproof case showed up today! In the photo below, you can see that it is buoyed by the inflated borders. It also has a line-in for wired earbuds and they worked pretty well. Then I wondered if the iPhone would stay in A2DP profile if I plugged in my Apple earbuds while having the Senso ActivBuds paired. The answer is no.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/smarco-case.jpg&quot; alt=&quot;Smarco Waterproof Case&quot; /&gt;&lt;/p&gt;

&lt;p&gt;But then all of a sudden, I heard my mom talking on the phone! While the ActivBuds were in! I paid attention and realized I could distinguish what she was saying. Until now, I had only been testing these things by listening to NPR Radio and TED Talks from my computer at max volume and it was impossible to make out anything.&lt;/p&gt;

&lt;p&gt;This time, I was using the &lt;a href=&quot;https://itunes.apple.com/us/app/petralex-hearing-aid/id816133779&quot;&gt;Petralex&lt;/a&gt; amplifier which actually gives you a hearing test first and then “fits” the amplification using several proprietary algorithms: Petralex, NAL, Berger, and POGO. I don’t know what the differences are but find that Berger and POGO perform best with higher pitches.&lt;/p&gt;

&lt;p&gt;Previously, I had been using the &lt;a href=&quot;https://itunes.apple.com/us/app/hearyounow-your-personal-sound/id569522474&quot;&gt;HearYouNow&lt;/a&gt; app and I couldn’t understand my mom with these. However, this app performed best with the Apple earbuds. Really interesting.&lt;/p&gt;

&lt;p&gt;Maybe I might not have to do any tweaking on the ActivBuds after all. Tomorrow morning I’m going to visit my mom’s workplace and I’m going to try the ActivBuds again with the Petralex app in real-time.&lt;/p&gt;

&lt;h1 id=&quot;8282016&quot;&gt;8/28/2016&lt;/h1&gt;

&lt;p&gt;Yesterday night, I went to a party and tried the ActivBuds/Petralex combo. It was actually quite good. We played board games and I could more or less keep up with the overlapping chatter. It is unclear why I can understand live human speech, but not speech from my computer.&lt;/p&gt;

&lt;p&gt;Today, I got in touch with a hardware engineer who specializes in embedded stuff and hardware/software interactions and he cleared up a lot of things for me. (If you’re reading this, you’re great!) We discussed &lt;a href=&quot;http://www.bragi.com&quot;&gt;The Dash&lt;/a&gt; smart earphone that he owns, which are also IPX7. It has an &lt;a href=&quot;https://support.bragi.com/hc/en-us/articles/203178271-Adjust-volume-and-audio-transparency&quot;&gt;Audio Transparency&lt;/a&gt; mode which amplifies the sounds of the ambient environment with a Master Volume setting. That was interesting, since it’s essentially what I’ve been trying to do. However, the Dash still uses the microphone internal to the Dash as the transparency feature’s signal doesn’t go to the phone over Bluetooth. Ultimately, the device has a lot of promise but doesn’t do as well on the connectivity and amplification side so I would not get it (and it’s $300).&lt;/p&gt;

&lt;p&gt;We also discussed viable paths forward in my own project. Trying to modify the Bluetooth chip is hopeless, as the profiles are controlled by proprietary firmware. If anything, you would write a software that interfaces with the profiles that the chip supports. As a result, I am better off trying to write my own app would stream real-time audio from my iPhone’s via A2DP. Conceptually, it shouldn’t be difficult. I don’t see why streaming from a microphone to headphones is any different from streaming to a speaker and there are plenty of those apps.&lt;/p&gt;

&lt;p&gt;There’s documentation in the &lt;a href=&quot;https://developer.apple.com/library/ios/documentation/AudioVideo/Conceptual/MultimediaPG/UsingAudio/UsingAudio.html#//apple_ref/doc/uid/TP40009767-CH2-SW6&quot;&gt;iOS Developer Library&lt;/a&gt; with sample source code for &lt;a href=&quot;https://developer.apple.com/library/ios/samplecode/aurioTouch/Introduction/Intro.html&quot;&gt;aurioTouch&lt;/a&gt;. Also found &lt;a href=&quot;https://audiostream.readthedocs.io/en/latest/&quot;&gt;Audiostream&lt;/a&gt;. Commercially, the &lt;a href=&quot;http://www.binpress.com/app/radiotunes-sdk/596&quot;&gt;RadioTunes SDK&lt;/a&gt; looks pretty neat.
I’ve found a couple old threads, &lt;a href=&quot;http://forum.unity3d.com/threads/real-time-audio-from-microphone.145686/&quot;&gt;here&lt;/a&gt; and &lt;a href=&quot;http://forum.unity3d.com/threads/blow-detection-using-ios-microphone.118215/&quot;&gt;here&lt;/a&gt;. The best starting point looks like &lt;a href=&quot;http://stackoverflow.com/questions/10501236/stream-media-from-iphone&quot;&gt;this StackOverflow question&lt;/a&gt;. &lt;a href=&quot;https://audiob.us&quot;&gt;Audiobus&lt;/a&gt; can send audio from one app to another to mix music.&lt;/p&gt;

&lt;p&gt;It is 12:56 AM and I’m pretty tired right now. In the afternoon I have an appointment with my audiologist and I’m going to ask what the risks of this are to my ears.&lt;/p&gt;

&lt;h1 id=&quot;8292016&quot;&gt;8/29/2016&lt;/h1&gt;

&lt;p&gt;I talked to my audiologist today and she didn’t seem too concerned about my project, other than telling me to avoid prolonged exposure to more than 85 dB. It shouldn’t be difficult to build in a sound check.&lt;/p&gt;

&lt;p&gt;A friend recommended that I reach out to professors at R.I.T. It hosts the &lt;a href=&quot;https://en.wikipedia.org/wiki/National_Technical_Institute_for_the_Deaf&quot;&gt;National Technical Institute for the Deaf&lt;/a&gt; which is the largest technological college for the deaf and hard-of-hearing so in my friend’s words, “if there’s any group that’s doing research about this stuff, it’s them.” At the very least, they would have a better idea of the latest research, could provide me with better terminology, or lead me to someone else helpful.&lt;/p&gt;

&lt;h1 id=&quot;8302016&quot;&gt;8/30/2016&lt;/h1&gt;
&lt;p&gt;Today I got an email that my library books were due so I went over and wore the ActivBuds instead of my hearing aid. I’m getting more accustomed to how everything sounds (really weird, btw) and I’m going to the beach this weekend to conduct tests in saltwater. As for building my own app, well, there’s one week left of summer. Realistically, I have never built an iOS app before or written in Swift so between my job, finishing up my last year of school, and job hunting, I can’t see a prototype coming out until next summer.&lt;/p&gt;

&lt;p&gt;For the forseeable future, my setup will be the Senso/Petralex pairing.&lt;/p&gt;

&lt;h1 id=&quot;8312016&quot;&gt;8/31/2016&lt;/h1&gt;

&lt;p&gt;Went to a party today and met a Physics major. We talked about some of the physics of electromagnetic waves. Haven’t really done anything on this project for a couple days.&lt;/p&gt;

&lt;h1 id=&quot;12032016&quot;&gt;12/03/2016&lt;/h1&gt;

&lt;p&gt;It’s been three entire months! I have bad news, good news, and great news.&lt;/p&gt;

&lt;p&gt;Bad news: I spilled water on my laptop and didn’t get a new one until yesterday. That’s why I didn’t update for so long.&lt;/p&gt;

&lt;p&gt;Good news: The laptop I got is the new Macbook Pro! I have been working hard all semester and my previous laptop was from 2010, so I felt like I deserved to treat myself.&lt;/p&gt;

&lt;p&gt;Great news: The final week of summer, I did several rounds of live field tests: swimming in the pool, swimming in the beach, and swimming in the ocean. In all cases, my project was FUNCTIONAL! It was an amazing time and I went back to school on this high note.&lt;/p&gt;

&lt;p&gt;On a whim, I had also decided to test the &lt;a href=&quot;https://www.amazon.com/Swimbuds-Waterproof-Headphones-Underwater-Promotion/dp/B006IF7S92/&quot;&gt;Swimbuds&lt;/a&gt; since they are wired and, as a bonus, IPX8-rated. (In comparison, the ActivBuds are IPX7.) Both products were tested in pool and ocean conditions.&lt;/p&gt;

&lt;h2 id=&quot;beach-senso-activbuds&quot;&gt;Beach: Senso ActivBuds&lt;/h2&gt;

&lt;p&gt;The first trial was an afternoon at the beach with the ActivBuds. Honestly, I had been so excited for the field test that I didn’t even think about the logistics of how I would carry the iPhone while swimming. I had it in the aforementioned waterproof case and hooked it to my bikini on my hip with a carabiner, but that dragged the fabric down. It was so awkward, not to mention the fact that the maximum range was already just 17.31 cm (6.81 in) under the best of conditions so I definitely couldn’t be chest-deep and still expect to hear.&lt;/p&gt;

&lt;p&gt;In the end, I figured that at least my head should always be above water so I fastened the case to the straps around my neck (with the case hanging on my back). Since the case was buoyant, it just floated behind my head as I waded through the water.&lt;/p&gt;

&lt;p&gt;The next step was calibrating the amplifier. My very patient friend told random stories as I fiddled around. Unfortunately, I can’t remember the exact settings anymore but the sound took quite a bit to get used to. At close range, the amplification was enough to improve my lip reading accuracy. Twenty meters apart, I could not understand anything but could hear my friend yelling out to me.&lt;/p&gt;

&lt;p&gt;Overall, we had swam out pretty far and the ActivBuds withstood some thirty minutes of swimming.&lt;/p&gt;

&lt;h2 id=&quot;pool-swimbuds&quot;&gt;Pool: Swimbuds&lt;/h2&gt;

&lt;p&gt;The second trial was later that day at the pool with the Swimbuds. I hooked the case to my bikini’s neck strap and calibrated the settings with the same friend. WOW. It was a WORLD of difference! The sound quality was far clearer with the wired earbuds and I was able to comprehend my friend with almost perfect comprehension at near range (within one meter). My biggest complaints with the ActivBuds is how different things sounded. All the pitches and tones were completely “off.” With the earbuds, things sounded slightly more normal (but still different).&lt;/p&gt;

&lt;h2 id=&quot;ocean-senso-activbuds&quot;&gt;Ocean: Senso ActivBuds&lt;/h2&gt;

&lt;p&gt;The next day, my friend and I decided to try out snorkeling. Neither of us had done it before and this was a perfect setting to push the limits of my experiment. To recap, the ActivBuds held up with my head above water and the phone floating next to my head (yes, it’s an odd sight). With my head underwater the entire time (within the theoretical range), two questions arise.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;How does the connection hold up?&lt;/li&gt;
  &lt;li&gt;Will the IPX7 rating hold?&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Well.&lt;/p&gt;

&lt;p&gt;For thirty minutes, my ear was:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;“Connected… Disconnected… Connected… Disconnected…”&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;So that was a big flop. I ended up turning it off and just snorkeling in silence. On the second question, I’m listening to music with the ActivBuds as I write this post, so I can definitely attest to its build quality. Well worth the $33.97 current list price on Amazon.&lt;/p&gt;

&lt;h2 id=&quot;ocean-swimbuds&quot;&gt;Ocean: Swimbuds&lt;/h2&gt;

&lt;p&gt;We had such a blast that we went snorkeling again the following day! I brought along the Swimbuds and as expected, there were no connection issues. My head was completely submerged underwater while the phone floated along. We could not talk with the masks on so little verbal communication was needed. After a while, we found a low cave and swam inside. It was almost pitch black and I couldn’t see my friend’s face, but I heard him say, “I’m not comfortable with this.” It is exactly this kind of situation that that this whole project is meant for.&lt;/p&gt;

&lt;p&gt;The field test results exceeded my expectations and I am so happy, but I also feel so silly that the solution was so simple. The semester ends in a few weeks and I want to try other conditions. In the preliminary field tests, my friend was the only audio source; there was no overlapping background chatter. How well would this perform under noisier conditions? Water parks, pool parties, any scenario that involves following overlapping conversations.&lt;/p&gt;

&lt;p&gt;Last week, Jacoti Lola was &lt;a href=&quot;http://www.prnewswire.com/news-releases/jacoti-lola-deployed-at-audacity-603580646.html&quot;&gt;demoed at the AuDacity 2016 audiology convention&lt;/a&gt; as a hearing assistance device that connected over Wifi technology. The reviews were promising:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;In addition, 100% of Lola users who had hearing loss reported that Lola improved speech understanding, with a vast majority (86%) reporting that Lola helped “a lot.”&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The company has already has a track record in this space: the &lt;a href=&quot;https://www.jacoti.com/listenapp/&quot;&gt;Jacoti ListenApp&lt;/a&gt; is &lt;a href=&quot;http://www.news-medical.net/news/20150331/Jacoti-releases-first-FDA-registered-medical-device-hearing-aid-application-for-smartphones.aspx&quot;&gt;the first FDA registered medical device&lt;/a&gt; for hearing loss. Their product does not service my severity of hearing loss, but I want to try it out anyway.&lt;/p&gt;

</description>
        <pubDate>Sat, 03 Dec 2016 00:00:00 -0600</pubDate>
        <link>/waterproof-hearing-aid.html</link>
        <guid isPermaLink="true">/waterproof-hearing-aid.html</guid>
        
        
      </item>
    
      <item>
        <title>Modeling Extreme Log Returns of S&amp;P 500 Index</title>
        <description>&lt;h1 id=&quot;introduction&quot;&gt;Introduction&lt;/h1&gt;
&lt;p&gt;Prior to Robert Engle’s introduction of ARCH processes in 1982, little methodology existed for modeling the variance of financial returns. At the time, conventional time series models tended to assume constant variance which fell short in capturing the dynamics of financial markets. The ARCH model developed by Engle offered a method of forecasting variance, by weighting a fixed number of previous observations. In 1986, Tim Bollerslev generalized this approach with the GARCH model, which assigned declining weights to all observations and let very old weights approach zero.&lt;/p&gt;

&lt;p&gt;These initial models have proved to be simple and robust, but receive criticism for failing to consider the direction of returns. ARCH/GARCH treat negative returns and positive returns symmetrically, but both economic theory and historical trends suggest that volatility responds asymmetrically to market information. In particular, financial markets exhibit a &lt;em&gt;leverage effect&lt;/em&gt;, where losses impact volatility more than gains. This asymmetric response naturally leads to an asymmetry in distribution, where the distribution of losses exhibit heavier tails than the distribution of gains.&lt;/p&gt;

&lt;h1 id=&quot;setup&quot;&gt;Setup&lt;/h1&gt;

&lt;p&gt;Daily adjusted closing prices for the S&amp;amp;P 500 Index from Thursday November 2, 2006 to Friday October 7th, 2016, with 2,501 days in total. In order to make meaningful comparisons across time by using an invariant quantity, the time series was converted into log returns.  The final dataset consisted of 2,500 daily log returns. Data was sourced from Yahoo Finance under the \textasciicircum GSPC ticker.&lt;/p&gt;

&lt;p&gt;Analysis and results were produced in MATLAB.$$&lt;/p&gt;

&lt;h1 id=&quot;gjr-garch11-model&quot;&gt;GJR-GARCH(1,1) Model&lt;/h1&gt;

&lt;p&gt;In 1993, Glosten, Jagannathan, and Runkle addressed the early ARCH/GARCH criticisms with the GJR-GARCH model, in which asymmetric response weight was differentiated for positive and negative shocks.&lt;/p&gt;

&lt;p&gt;For a time series of returns &lt;script type=&quot;math/tex&quot;&gt;\{r_i\}_{i=1}^n&lt;/script&gt;, a drift process &lt;script type=&quot;math/tex&quot;&gt;\{\mu_t\}&lt;/script&gt;, and residuals &lt;script type=&quot;math/tex&quot;&gt;\varepsilon_i = r_i - \mu_i&lt;/script&gt;, the “leveraged” GARCH model can be parameterized as:
&lt;script type=&quot;math/tex&quot;&gt;\begin{equation} 
\sigma^2_t = \alpha_0 + \alpha_1(\varepsilon_{t-1} + \delta\abs{\varepsilon_{t-1}})^2 + \beta_1\sigma^2_{t-1}
\end{equation}&lt;/script&gt;&lt;/p&gt;

&lt;p&gt;with &lt;script type=&quot;math/tex&quot;&gt;% &lt;![CDATA[
\abs{\delta} &lt; 1 %]]&gt;&lt;/script&gt;. An additional constraint is required for the existence of unconditional variance, given by &lt;script type=&quot;math/tex&quot;&gt;% &lt;![CDATA[
\alpha_1(1+\delta^2) + \beta_1 &lt; 1 %]]&gt;&lt;/script&gt;.&lt;/p&gt;

&lt;p&gt;The quasi-log likelihood is:
&lt;script type=&quot;math/tex&quot;&gt;\begin{equation} 
\log \ell_{\theta | \sigma_i} = \frac{1}{2}\sum_{i=1}^n \left[ \left(\frac{\varepsilon_i}{\sigma_i}\right)^2 + \log(2\pi\sigma_i^2)\right]
\end{equation}&lt;/script&gt;&lt;/p&gt;

&lt;p&gt;where &lt;script type=&quot;math/tex&quot;&gt;\theta&lt;/script&gt; represents the vector of parameters to be simultaneously estimated and &lt;script type=&quot;math/tex&quot;&gt;\sigma_i^2&lt;/script&gt; is specified by Equation (1).&lt;/p&gt;

&lt;p&gt;Due to the extremely short time horizon of one day, we can reasonably assume that daily returns have zero drift. Historically, daily equity returns have shown zero or nearly zero drift. Therefore, the residuals used to outfit the quasi-log likelihood are simply the log returns as specified in the Setup section.&lt;/p&gt;

&lt;p&gt;A grid of initial seeds was created with initial values of &lt;script type=&quot;math/tex&quot;&gt;\alpha_0&lt;/script&gt; and &lt;script type=&quot;math/tex&quot;&gt;\alpha_1&lt;/script&gt; fixed at 0.1 and 0.01, varying negatively for &lt;script type=&quot;math/tex&quot;&gt;\delta&lt;/script&gt;, and varying positively for &lt;script type=&quot;math/tex&quot;&gt;\beta_1&lt;/script&gt;. The negative quasi-likelihood was minimized for all seeds to find the estimates producing the smallest negative log likelihood. The results are shown in Table I.&lt;/p&gt;
</description>
        <pubDate>Wed, 19 Oct 2016 00:00:00 -0500</pubDate>
        <link>/sp500-extreme-value-theory.html</link>
        <guid isPermaLink="true">/sp500-extreme-value-theory.html</guid>
        
        
      </item>
    
      <item>
        <title>Liquid Syntax Errors in Jekyll 3.2.1</title>
        <description>&lt;p&gt;Two days ago, I encountered the following error message when building my site:&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Asset inconsitency, expected
jekyll 3.1.6 | Error: undefined method &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;logical_path&lt;span class=&quot;s1&quot;&gt;' for nil:NilClass
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;I hadn’t encountered this before, so I just ran &lt;code&gt;jekyll clean&lt;/code&gt; which flushed my caches and everything in &lt;code&gt;/_site/&lt;/code&gt;. Well, it fixed the error but then I got a new one:&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Liquid Exception: Liquid syntax error &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;line 12&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;: Unknown tag &lt;span class=&quot;s1&quot;&gt;'img'&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;For the record, this is how I was inserting images in my Markdown:&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;{% &lt;/span&gt;img river-tubing.jpg %&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Quick and easy. I fixed it with &lt;a href=&quot;https://superdevresources.com/image-caption-jekyll/&quot;&gt;this workaround&lt;/a&gt; (with new image captioning support). Now I would insert images like this:&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;{% &lt;/span&gt;include image.html
	&lt;span class=&quot;nv&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;images/river-tubing.jpg&quot;&lt;/span&gt;
	&lt;span class=&quot;nv&quot;&gt;caption&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Image from Trinity River Vision Authority.&quot;&lt;/span&gt; %&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;But I was REALLY SAD that the original method didn’t work. Why?! So I upgrade from Jekyll 3.1 to 3.2.1 to see if it worked – it didn’t. Well, then I found out that my images weren’t copying over in Jekyll because they were never being referenced.&lt;/p&gt;

&lt;p&gt;I saw a &lt;a href=&quot;http://stackoverflow.com/questions/17990087/why-images-folder-is-not-copied-when-generating-an-octopress-with-jekyll-assets&quot;&gt;similar complaint&lt;/a&gt; and tried the following solution:&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;{% &lt;/span&gt;asset_path river-tubing.jpg %&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Which would give me the following error:&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Liquid syntax error &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;line 12&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;: Unknown tag &lt;span class=&quot;s1&quot;&gt;'asset_path'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;So it’s not an issue with Jekyll, it’s an issue with my configuration. At this point I have spent enough time on it and really want to get back to my bluetooth project.&lt;/p&gt;

</description>
        <pubDate>Fri, 26 Aug 2016 00:00:00 -0500</pubDate>
        <link>/jekyll-liquid-syntax-error.html</link>
        <guid isPermaLink="true">/jekyll-liquid-syntax-error.html</guid>
        
        
      </item>
    
      <item>
        <title>Summer in Review</title>
        <description>&lt;p&gt;Another sun-soaked season comes to a close. I was so happy to “break” into finance this year and it’s been a tremendously interesting internship, owing to some unusual circumstances and a fantastic team. I worked at a large commercial bank on the top floor (well, the C-Suite occupies the floor above us) and I’ll be honest - pressing my floor in the elevator still hasn’t gotten old after 10 weeks.&lt;/p&gt;

&lt;p&gt;A full-time hire started the same day as me and we were both assigned to the same portfolio. Working with him was a learning opportunity in and of itself; he was incredibly proactive with great interpersonal skills, and served as a good example for how to act as a new hire. We both hit the ground running.&lt;/p&gt;

&lt;p&gt;We were on the subprime mortgage and mortgage-backed securities portfolios. Older people will be familiar with how the &lt;a href=&quot;https://en.wikipedia.org/wiki/Subprime_mortgage_crisis&quot;&gt;subprime mortgage crisis&lt;/a&gt; caused the 2007-2009 economic recession. Back then, I was still a kid and before this internship, I barely understood what a mortgage was, let alone what happened. A friend recommended &lt;a href=&quot;http://www.imdb.com/title/tt1596363/&quot;&gt;The Big Short&lt;/a&gt; to me and I found it an entertaining and educational look at how these did the damage they did.&lt;/p&gt;

&lt;p&gt;From the get-go, it felt like I was drinking from the firehose.&lt;/p&gt;

&lt;p&gt;The learning curve was steep because there was just so much information to swallow in so little time. We needed to pull data from various databases but in order to know what sources to pull it from, we needed to understand what’s in the portfolio and how the assets worked. It wasn’t just a matter of conceptually understanding what a mortgage-backed security was, but understanding it from an accounting perspective and accordingly, how the bank structures its data. I must have read hundreds of pages of documentation and paperwork – if you look in my notebook, you’ll see a ton of flowcharts, graphs, and diagrams.&lt;/p&gt;

&lt;p&gt;Every intern also got a mentor. Mine was one of my interviewers and out of three people, he had asked the toughest technical questions – former math professor, go figure. Looking back, I don’t think I could have had a better mentor! Even though he was a busy person, he often gave me lectures on the spot covering topics from mathematical theory to financial news to the bank’s history. Above all, I think what set him apart was how he didn’t just give me guidance, but also opportunities for me to set myself apart.&lt;/p&gt;

&lt;p&gt;It was as simple as giving me exposure to different things by bringing me to all of his meetings, whether or not they related to my current work. In and out of these meetings, he would “go to bat” for me with my manager by recommending additional work for me to take on. It was still up to me to deliver results but with his support, I was able to do a lot in 10 weeks. I am pretty grateful and someday, I want to be to somebody else what he was to me.&lt;/p&gt;

&lt;p&gt;There is so much more I could say about this summer, but I want to focus on what I think makes for a successful intern based on the last couple months. Like other things in life, being remembered comes down to two things: having information, and using it well.&lt;/p&gt;

&lt;h3 id=&quot;information-is-power&quot;&gt;Information is Power&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Get the information you need.&lt;/strong&gt; One of the senior quants said this to me over and over in my first week and it internalizes a deeper mentality: being proactive. In his context, it was about understanding how subprime mortgages work and figuring that out by not just reading things, but also talking to the portfolio managers, the traders, and the accounting people.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Being proactive meant asking questions early and asking questions often, going to where the information was instead of waiting for the information to somehow come to you. In a way, this mentality is similar to that of advocating for yourself, which is what every hard-of-hearing and deaf person has had to learn.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Good social skills make getting information easier.&lt;/strong&gt; At the core, this skill is about being able to develop chemistry with others.&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;
        &lt;p&gt;In the short-term, chemistry not only helps you with getting information from others, but also in collaborating with people on projects. When your coworkers feel natural and comfortable interacting with you, communication is smoother, issues can be addressed more quickly, and direction is clearer when everyone is on the same page. When management likes you, they remember your name and serve as good advisors and mentors.&lt;/p&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;In the long-term, you learn about prevailing trends, issues, and opportunities to “add value.” Chance, indeed, favors the prepared mind.&lt;/p&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Be authentic.&lt;/strong&gt; Frankly, developing social skills isn’t easy; it is a muscle that only improves through consistent practice. I think there is so much advice out there that gives shortcuts and “hacks” on “getting people to like you,” which are often executed at the expense of sincerity. On the other end, people champion authenticity but it’s important to realize that being authentic isn’t something you do for other people.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Instead, it means having confidence in yourself and believing that there is value in who you are. It means recognizing that you cannot please everybody and being at peace with that. Plus, you do better work when you feel comfortable in your own skin instead of when you’re trying to be somebody you’re not.&lt;/p&gt;

&lt;h3 id=&quot;being-indispensible&quot;&gt;Being Indispensible&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Add value.&lt;/strong&gt; This action can be broken into two components: making yourself indispensible to the company, and making yourself indispensible to other people.&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;
        &lt;p&gt;The first component is about improving the company as a whole. Examples include becoming a subject matter expert e.g. on an asset class, or taking initiative on finding ways to comprove the bottom line, or taking on a much-needed but ignored issue.&lt;/p&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;The second component is about making other people’s jobs easier. This can be as straightforward as generating weekly risk reports to your boss &lt;em&gt;exactly&lt;/em&gt; the way they like to read it, or as altruistic as helping a busy coworker tackle obstacles in their work, or even serving in an advisory or mentorship capacity to others.&lt;/p&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Write good code, or write good papers.&lt;/strong&gt; Both were a big part of my internship and this seems to be the general trend in the quant space of finance. That leads to the next bullet point…&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Learn to focus without distraction on cognitively demanding tasks.&lt;/strong&gt; You really cannot be a good (quant) intern if you cannot consistently produce work that isn’t easy to reproduce. Focusing on hard things that people unambiguously value, day after day, week after week, is more or less the whole ball game and to do that, you need to learn how to do &lt;a href=&quot;http://calnewport.com/books/deep-work/&quot;&gt;deep work&lt;/a&gt;.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Tue, 23 Aug 2016 00:00:00 -0500</pubDate>
        <link>/quant-internship.html</link>
        <guid isPermaLink="true">/quant-internship.html</guid>
        
        
      </item>
    
      <item>
        <title>Compiling Python Code in Vim</title>
        <description>&lt;p&gt;At the beginning of the summer, I configured my vim environment for Python development, including being able to compile my code within the editor. Today, I pulled up some old files and couldn’t remember how to run it anymore…&lt;/p&gt;

&lt;p&gt;I looked in my vimrc file and it looks like this:&lt;/p&gt;

&lt;div class=&quot;language-vim highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;&quot; Set makeprg to compile current Python file&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; makprg&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;python\ %
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; noswapfile

&lt;span class=&quot;c&quot;&gt;&quot; Map keys to compile Python scripts&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;nnoremap &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;S&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;b1 &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;bar&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;w&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;bar&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;bd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;bar&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt; 
&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;b1 &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;bar&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;botright&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;vnew&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;bar&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt; 
&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;read &lt;span class=&quot;p&quot;&gt;!&lt;/span&gt;python &lt;span class=&quot;k&quot;&gt;lol&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;py&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;m&lt;/span&gt; json&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;tool &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;CR&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;What is this ugliness?! It looks like hitting Shift+B results in the following:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Loads the first buffer (presumably where my code is)&lt;/li&gt;
  &lt;li&gt;Writes the file (saves it)&lt;/li&gt;
  &lt;li&gt;Closes buffers 1 through 1000 (essentially closes all buffers). I assume the exclamation forces this action without saving the other buffers.&lt;/li&gt;
  &lt;li&gt;Reloads the first buffer&lt;/li&gt;
  &lt;li&gt;Opens a new vertical buffer in the bottom right part of vim&lt;/li&gt;
  &lt;li&gt;Runs the shell command &lt;code&gt;python lol.py&lt;/code&gt; and reads the output into a new buffer&lt;/li&gt;
  &lt;li&gt;Runs the Python module, json.tool&lt;/li&gt;
  &lt;li&gt;Hits enter&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Ignoring the fact that I apparently hardcoded a build sequence for one file, the output doesn’t look too bad. The results look like this:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/python-in-vim.png&quot; alt=&quot;Python output in vim buffer&quot; /&gt;&lt;/p&gt;

</description>
        <pubDate>Tue, 19 Jul 2016 00:00:00 -0500</pubDate>
        <link>/compiling-python-code-in-vim.html</link>
        <guid isPermaLink="true">/compiling-python-code-in-vim.html</guid>
        
        <category>notes</category>
        
        
      </item>
    
      <item>
        <title>Blog Reference Sheet</title>
        <description>&lt;h2 id=&quot;blog&quot;&gt;Blog&lt;/h2&gt;
&lt;p&gt;At the core, this blog is written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, which is a syntax that turns plain text into HTML. Its creator, John Gruber, sought to design a language whose syntax was “as readable as possible.” Indeed, Markdown was inspired by the format of plain text email, with as few formatting tags as possible.&lt;/p&gt;

&lt;p&gt;The “scaffold” of this blog – that is, the meta-programming technique that generates code from my Markdown text – is &lt;a href=&quot;https://jekyllrb.com&quot;&gt;Jekyll&lt;/a&gt;. From &lt;a href=&quot;http://jekyllbootstrap.com/lessons/jekyll-introduction.html&quot;&gt;What is Jekyll?&lt;/a&gt;,&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Jekyll is a parsing engine bundled as a ruby gem used to build static websites from dynamic components such as templates, partials, liquid code, markdown, etc. Jekyll is known as “a simple, blog aware, static site generator”.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Static websites do not depend on a live connection to a database or server-side code; therefore the user sees exactly what I have written at the time of publication. As a result, Jekyll only needs to parse the blog components once in order to generate a website, which is then served on a web-server.&lt;/p&gt;

&lt;p&gt;The web server used is &lt;a href=&quot;https://pages.github.com&quot;&gt;GitHub Pages&lt;/a&gt;, which hosts my website from my GitHub repository. A repository is a central hub or location where things are stored - in this case, source code. As per its namesake, GitHub uses the Git version control system to manage its repository. Wikipedia offers a distinction,&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Unlike Git, which is strictly a command-line tool, GitHub provides a Web-based graphical interface and desktop as well as mobile integration.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Incidentally, GitHub uses Jekyll to power GitHub Pages. Therefore, it is because I chose GitHub Pages as my web server, that I came to use Jekyll as my scaffold. I edit my blog locally on my computer through Terminal (the command line interface for Apple’s OS X), and push changes to my website through GitHub.&lt;/p&gt;

&lt;p&gt;I should further note that the theme of this blog was designed by &lt;a href=&quot;http://heiswayi.github.io&quot;&gt;Heiswayi Nrird&lt;/a&gt;, who I think has captured the spirit of minimalism quite well, given that this site combines both blog and portfolio.&lt;/p&gt;

&lt;h3 id=&quot;jekyll-in-terminal&quot;&gt;Jekyll in Terminal&lt;/h3&gt;

&lt;p&gt;Build entire site.&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;jekyll build
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Build only files that have been modified.&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;jekyll build --incremental
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;git-cheat-sheet&quot;&gt;Git Cheat Sheet&lt;/h2&gt;

&lt;h3 id=&quot;flags&quot;&gt;Flags&lt;/h3&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Flag&lt;/th&gt;
      &lt;th&gt;Long form&lt;/th&gt;
      &lt;th&gt;Meaning&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;-a&lt;/td&gt;
      &lt;td&gt;–all&lt;/td&gt;
      &lt;td&gt;Automatically stage all modified files but not new files.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;-m &amp;lt;msg&amp;gt;&lt;/td&gt;
      &lt;td&gt;–message=&amp;lt;msg&amp;gt;&lt;/td&gt;
      &lt;td&gt;Use the given &lt;msg&gt; as the commit message.&lt;/msg&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;-C &amp;lt;commit&amp;gt;&lt;/td&gt;
      &lt;td&gt;–reuse-message=&amp;lt;commit&amp;gt;&lt;/td&gt;
      &lt;td&gt;Reuse the log message and authorship from &amp;lt;commit&amp;gt;.&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;commits&quot;&gt;Commits&lt;/h3&gt;

&lt;p&gt;Record changes to repository for all modified files with specified commit message.&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;git commit -a -m &lt;span class=&quot;s2&quot;&gt;&quot;Commit message.&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Commit using most recent commit and message.&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;git commit --amend --no-edit
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;pushing-changes&quot;&gt;Pushing Changes&lt;/h3&gt;

&lt;p&gt;Push stuff… idk…&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;git push origin master
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;revert-commits&quot;&gt;Revert commits&lt;/h3&gt;

&lt;p&gt;Still working on figuring this out.&lt;/p&gt;

&lt;h2 id=&quot;latex-formatting&quot;&gt;LaTeX Formatting&lt;/h2&gt;

&lt;h3 id=&quot;setup&quot;&gt;Setup&lt;/h3&gt;

&lt;p&gt;Add the MathJax script into the &lt;code&gt;&amp;lt;head&amp;rt;&lt;/code&gt; block of page.&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;script &lt;/span&gt;&lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;async&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;equations&quot;&gt;Equations&lt;/h3&gt;

&lt;p&gt;In Markdown, surround equations with double dollar signs.&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\frac{\delta E_{x}}{\delta t} = \frac{\delta f(z-ct)}{\delta t} = f^{\prime}(z - ct)\Big(\frac{\delta(z-ct)}{\delta t}\Big) = -c*f^{\prime}(z - ct)&lt;/script&gt;

&lt;div class=&quot;language-latex highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;$$&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;\frac&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;\delta&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt; E&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;_{&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}}{&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;\delta&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt; t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;\frac&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;\delta&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt; f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;ct&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}{&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;\delta&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt; t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt; f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;^{&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;\prime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;z &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt; ct&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;\Big&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;\frac&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;\delta&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;ct&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}{&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;\delta&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt; t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;\Big&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;^{&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;\prime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;z &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt; ct&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;$$&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</description>
        <pubDate>Sun, 17 Jul 2016 00:00:00 -0500</pubDate>
        <link>/reference-sheet.html</link>
        <guid isPermaLink="true">/reference-sheet.html</guid>
        
        
      </item>
    
      <item>
        <title>Principal Component Analysis of Presidential Elections</title>
        <description>&lt;h1 id=&quot;introduction&quot;&gt;Introduction&lt;/h1&gt;
&lt;p&gt;Using national exit polls, we undertake a principal component analysis of voter demographics for United States presidential elections from 1976 to 2012. We aim to quantify the dynamics of voters and identify the demographics that have best predicted presidential election outcomes from the Carter presidency to the current Obama presidency.&lt;/p&gt;

&lt;h1 id=&quot;data&quot;&gt;Data&lt;/h1&gt;
&lt;p&gt;National exit polls from Gallup and various news sources were aggregated into a raw data set. These polls captured 45 demographic groups which were further grouped into 12 categories.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Ideology&lt;/th&gt;
      &lt;th&gt;Party&lt;/th&gt;
      &lt;th&gt;Gender&lt;/th&gt;
      &lt;th&gt;Married&lt;/th&gt;
      &lt;th&gt;Race&lt;/th&gt;
      &lt;th&gt;Religion&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Liberal&lt;/td&gt;
      &lt;td&gt;Democrat&lt;/td&gt;
      &lt;td&gt;Men&lt;/td&gt;
      &lt;td&gt;Married&lt;/td&gt;
      &lt;td&gt;White&lt;/td&gt;
      &lt;td&gt;Protestant&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Moderate&lt;/td&gt;
      &lt;td&gt;Republican&lt;/td&gt;
      &lt;td&gt;Women&lt;/td&gt;
      &lt;td&gt;Unmarried&lt;/td&gt;
      &lt;td&gt;Black&lt;/td&gt;
      &lt;td&gt;Catholic&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Conservative&lt;/td&gt;
      &lt;td&gt;Independent&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt;Asian&lt;/td&gt;
      &lt;td&gt;Jewish&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt;Hispanic&lt;/td&gt;
      &lt;td&gt;Evangelical&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt;Other&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Age&lt;/th&gt;
      &lt;th&gt;Education&lt;/th&gt;
      &lt;th&gt;Income&lt;/th&gt;
      &lt;th&gt;Region&lt;/th&gt;
      &lt;th&gt;Community&lt;/th&gt;
      &lt;th&gt;Voting Status&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;18-24 years&lt;/td&gt;
      &lt;td&gt;Less than HS&lt;/td&gt;
      &lt;td&gt;Under $30,000&lt;/td&gt;
      &lt;td&gt;East&lt;/td&gt;
      &lt;td&gt;Urban&lt;/td&gt;
      &lt;td&gt;First-time voter&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;25-29 years&lt;/td&gt;
      &lt;td&gt;High School&lt;/td&gt;
      &lt;td&gt;$30,000-49,999&lt;/td&gt;
      &lt;td&gt;Midwest&lt;/td&gt;
      &lt;td&gt;Suburban&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;30-39 years&lt;/td&gt;
      &lt;td&gt;Some College&lt;/td&gt;
      &lt;td&gt;$50,000-99,999&lt;/td&gt;
      &lt;td&gt;South&lt;/td&gt;
      &lt;td&gt;Rural&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;40-49 years&lt;/td&gt;
      &lt;td&gt;College&lt;/td&gt;
      &lt;td&gt;$100,000-199,000&lt;/td&gt;
      &lt;td&gt;West&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;50-64 years&lt;/td&gt;
      &lt;td&gt;Postgraduate&lt;/td&gt;
      &lt;td&gt;Over $200,000&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;65 and older&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;In each election, the voting behavior of each demographic group are represented as a column vector capturing whether or not the greater proportion voted for the winning presidential candidate.&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
Demographic_i = 
\begin{cases}
1 &amp; \text{if the higher share voted for the winning candidate} \\
0 &amp;\text{if the difference in voting share was within 5%} \\
-1 &amp;\text{if the higher share voted for the losing candidate} 
\end{cases} %]]&gt;&lt;/script&gt;

&lt;p&gt;Note that R uses the singular value decomposition method to perform principal component analysis, where the convention is to consider rows as observations and columns as variables, so our matrix needs to be in &lt;em&gt;election_year x demographic_group&lt;/em&gt; format. The data for all 45 demographics then comprises a 10 x 45 matrix. Since each demographic is encoded on the same scale of {1, 0, -1}, no further processing is needed, e.g. mean-centering or normalization.&lt;/p&gt;

&lt;h1 id=&quot;principal-component-analysis&quot;&gt;Principal Component Analysis&lt;/h1&gt;

&lt;h2 id=&quot;results&quot;&gt;Results&lt;/h2&gt;

&lt;p&gt;Each principal component represents a “dimension” of the data, describing some underlying dynamic. The table below shows the proportion of variance in the data that each principal component accounts for.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt; &lt;/th&gt;
      &lt;th&gt;PC1&lt;/th&gt;
      &lt;th&gt;PC2&lt;/th&gt;
      &lt;th&gt;PC3&lt;/th&gt;
      &lt;th&gt;PC4&lt;/th&gt;
      &lt;th&gt;PC5&lt;/th&gt;
      &lt;th&gt;PC6&lt;/th&gt;
      &lt;th&gt;PC7&lt;/th&gt;
      &lt;th&gt;PC8&lt;/th&gt;
      &lt;th&gt;PC9&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Proportion of Variance&lt;/td&gt;
      &lt;td&gt;0.6023&lt;/td&gt;
      &lt;td&gt;0.1401&lt;/td&gt;
      &lt;td&gt;0.08354&lt;/td&gt;
      &lt;td&gt;0.06334&lt;/td&gt;
      &lt;td&gt;0.03156&lt;/td&gt;
      &lt;td&gt;0.02662&lt;/td&gt;
      &lt;td&gt;0.02079&lt;/td&gt;
      &lt;td&gt;0.01767&lt;/td&gt;
      &lt;td&gt;0.01415&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Cumulative Proportion&lt;/td&gt;
      &lt;td&gt;0.6023&lt;/td&gt;
      &lt;td&gt;0.7523&lt;/td&gt;
      &lt;td&gt;0.82588&lt;/td&gt;
      &lt;td&gt;0.88922&lt;/td&gt;
      &lt;td&gt;0.92078&lt;/td&gt;
      &lt;td&gt;0.94739&lt;/td&gt;
      &lt;td&gt;0.96818&lt;/td&gt;
      &lt;td&gt;0.98585&lt;/td&gt;
      &lt;td&gt;1.00000&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;Mathematically, the principal components of a dataset form an orthogonal basis. Geometrically, basis vectors can be seen as the axes in a Cartesian coordinate system. Humans are comfortable seeing data represented in two dimensions: x and y, so we can project the first two principal components, PC1 and PC2, onto the standard x, y plane. Together, they capture 75% of variance in the data.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/elections_biplot.png&quot; alt=&quot;Presidential Election biplot&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Here, the largest two principal components form the axes of the biplot above. There are two things to interpret: points and vectors. Points (presidential election years) that are close together have similar demographics while vectors (demographic groups) that are close together have similar voting behavior. We see that Democratic presidences are grouped on the left while Republican presidences are grouped on the right. Several demographics are clustered together:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Green&lt;/strong&gt;: Democrat, Liberal, Hispanic, Urban, Jewish, Black&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Orange&lt;/strong&gt;: 18-24 years old, Women, Unmarried, East&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Blue&lt;/strong&gt;: Post-graduate education, First-time voter&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Yellow&lt;/strong&gt;: Republican, Protestant, $100,000-199,999 income&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;analysis&quot;&gt;Analysis&lt;/h2&gt;

&lt;p&gt;Let’s focus on the first principal component, on how demographics are distributed along the x-axis. Demographics on the farthest left are Democrat, Liberal, Hispanic, Urban, Jewish, and Black. On the farthest right, we have Republican, Conservative, Over $200k annual income, and Protestant. Recall that a principal component is supposed to capture some dynamic of the data in a certain dimension, so we can infer that the first component represents a political spectrum from Democratic to Republican. The farther away from the origin a demographic group’s vector goes in along the x-axis, the more politically united it is.&lt;/p&gt;

&lt;p&gt;Interestingly, we see that the more recent the presidency, the further out they are on the x-axis. This reflects the historical trend that presidencies and voters have become more partisan over the years. Jimmy Carter’s presidency in 1976 and Ronald Reagan’s presidency in 1984 are much closer to the origin than Obama’s presidency in 2012 and Bush’s presidency in 2004.&lt;/p&gt;

&lt;p&gt;The second principal component appears to represent the predictive power of a demographic. Above the scale, knowing which candidate that Liberals, Conservatives, or Married people support tells us little about who will actually win. Below the scale, support from Independents, the West, and First-time voters have major predictive power. This reflects the enormous influence that swing states and California bring to the election.&lt;/p&gt;

&lt;h1 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h1&gt;

&lt;p&gt;In order to capture the White House, this year’s presidential candidates most likely need to be able to win Independents, the West, the blue cluster (post-graduates and first-time voters), and the orange cluster (18-24 year olds, women, and the East). The orange cluster also includes unmarried people, but presumably the 18-24 year old demographic encapsulates this group.&lt;/p&gt;

&lt;h2 id=&quot;weaknesses&quot;&gt;Weaknesses&lt;/h2&gt;

&lt;h3 id=&quot;sample-data&quot;&gt;Sample Data&lt;/h3&gt;
&lt;p&gt;Arguably the biggest weakness of the analysis lies in the dataset itself, in its small size and its imprecise demographic groups. Forty years of history only yields ten samples, leaving it difficult to create meaningful demographic groups. Demographic groups such as Married are too broad and can be broken down even further, e.g. Married Independent voters or Married with College degree, but this makes it even more difficult to normalize exit poll questions across years.&lt;/p&gt;

&lt;p&gt;Recent polls offer more specific classifications, but earlier polls do not go into such depth so there is a trade-off between specificity and sample size. For example, national exit polls did not track distinguish sexual orientation until the 1996 presidential election between Bill Clinton and Al Gore.&lt;/p&gt;

&lt;h3 id=&quot;pca-assumptions&quot;&gt;PCA Assumptions&lt;/h3&gt;
&lt;p&gt;PCA seeks to draw out the dynamics of a system and is robust against time, but this strength is a weakness when applied to presidential elections. The very nature of winning elections requires identifying and capitalizing on recent trends, and this analysis missed the new influence of minority groups.&lt;/p&gt;

&lt;p&gt;It is widely agreed that Obama won in 2008 and again in 2012 by capturing the women, youth, and minority vote. The analysis does highlight the significance of women and young voters, but placed Hispanics and Blacks (part of the Green cluster) as poorly predictive. Moreover, the analysis places Independent voters as strongly significant, but the dataset shows a declining influence over the past 12 years.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Demographic&lt;/th&gt;
      &lt;th&gt;2012&lt;/th&gt;
      &lt;th&gt;2008&lt;/th&gt;
      &lt;th&gt;2004&lt;/th&gt;
      &lt;th&gt;2000&lt;/th&gt;
      &lt;th&gt;1996&lt;/th&gt;
      &lt;th&gt;1992&lt;/th&gt;
      &lt;th&gt;1988&lt;/th&gt;
      &lt;th&gt;1984&lt;/th&gt;
      &lt;th&gt;1980&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Independent&lt;/td&gt;
      &lt;td&gt;-1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;-1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;In addition, PCA presupposes a linear dynamic in how demographics influence the outcome of a presidential election. This may seem reasonable as we expect elections to be zero-sum, i.e. a person can only vote for one person. We also expect a demographic’s influence to vary linearly with size and unity and that each person’s vote is equally weighted, i.e. presidential candidates win simply by being more popular. However, elections are won in the Electoral College rather than by popular vote, so the influence of a demographic group may not necessarily be linear with the probability of the outcome.&lt;/p&gt;

&lt;h2 id=&quot;extensions&quot;&gt;Extensions&lt;/h2&gt;

&lt;p&gt;Instead of looking at national exit polls, the analysis can focus on exit polls in states with the most electoral votes: California, Texas, New York, or look at exit polls in swing states only: Ohio, Pennsylvania, Florida, Colorado.&lt;/p&gt;

&lt;p&gt;A survey of Hilary Clinton and Donald Trump’s electorate base would also supplement this study.&lt;/p&gt;

&lt;h1 id=&quot;references&quot;&gt;References&lt;/h1&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;Shlens, J., 2014. A tutorial on principal component analysis. arXiv preprint arXiv:1404.1100. &lt;a href=&quot;http://arxiv.org/pdf/1404.1100.pdf&quot;&gt;pdf&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;“2012 President Exit Polls.” The New York Times. &lt;a href=&quot;http://elections.nytimes.com/2012/results/president/exit-polls&quot;&gt;link&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;“How Groups Voted.” Roper Center for Public Opinion Research, Cornell University. &lt;a href=&quot;http://ropercenter.cornell.edu/polls/us-elections/how-groups-voted/&quot;&gt;link&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;“2004 U.S. President National Exit Poll” CNN. &lt;a href=&quot;http://www.cnn.com/ELECTION/2004/pages/results/states/US/P/00/epolls.0.html&quot;&gt;link&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;1992-1996 Voting Demographics. Gallup. &lt;a href=&quot;http://www.gallup.com/poll/9466/election-polls-vote-groups-19921996.aspx&quot;&gt;link&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;“CPI Inflation Calculator.” Bureau of Labor Statistics. &lt;a href=&quot;http://www.bls.gov/data/inflation_calculator.htm&quot;&gt;link&lt;/a&gt; &lt;em&gt;Used to normalize income across polling years.&lt;/em&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;
</description>
        <pubDate>Mon, 20 Jun 2016 00:00:00 -0500</pubDate>
        <link>/svd-on-presidential-elections.html</link>
        <guid isPermaLink="true">/svd-on-presidential-elections.html</guid>
        
        
      </item>
    
      <item>
        <title>Initial Commit</title>
        <description>&lt;p&gt;What am I doing? Seriously, what.&lt;/p&gt;

&lt;h3 id=&quot;is-this-a-header&quot;&gt;Is this a header?&lt;/h3&gt;

&lt;p&gt;What does it look like?&lt;/p&gt;

&lt;h2 id=&quot;godspeed&quot;&gt;Godspeed&lt;/h2&gt;

&lt;p&gt;For it is the only speed.&lt;/p&gt;

&lt;h1 id=&quot;no-way-no-way-no-way&quot;&gt;No way no way no way&lt;/h1&gt;

&lt;p&gt;hi&lt;/p&gt;
</description>
        <pubDate>Sun, 19 Jun 2016 00:00:00 -0500</pubDate>
        <link>/initial-commit.html</link>
        <guid isPermaLink="true">/initial-commit.html</guid>
        
        
      </item>
    
  </channel>
</rss>
